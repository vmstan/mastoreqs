---
title: Mastodon Requirements
navigation: false
layout: page
---

::alert{type="info"}
This document is a community maintained, best effort, matrix of recent major/minor Mastodon releases and their underlying dependencies.
You should always read the release notes for your version of Mastodon, and any product dependencies, before upgrading.
::

|                    |             **v4.3-dev**             |             **v4.2.0**               |              **v4.1.9**              |              **v4.0.11**             |              **v3.5.14**             |              **v3.4.10**             |
|--------------------|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|:------------------------------------:|
| **Ruby**           |                                      |                                      |                                      |                                      |                                      |                                      |
| 3.2.x              |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 3.1.x              |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:white-circle"}  |
| 3.0.x              |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 2.7.x              |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 2.6.x              |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |
| **Node.js**        |                                      |                                      |                                      |                                      |                                      |                                      |
| 20.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 18.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 16.x               |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 14.x               |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 12.22              |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| **Postgres**       |                                      |                                      |                                      |                                      |                                      |                                      |
| 16.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 15.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 14.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 13.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 12.x               |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 11.x               |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 10.x               |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 9.6.x              |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 9.5.x              |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  |
| **Redis**          |                                      |                                      |                                      |                                      |                                      |                                      |
| 7.x                |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 6.x                |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 5.x                | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 4.x                | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  | :icon{name="twemoji:yellow-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| **Elasticsearch**  |                                      |                                      |                                      |                                      |                                      |                                      |
| 8.x                |  :icon{name="twemoji:green-circle"}  |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:white-circle"}  |
| 7.x                |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 6.x                |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:green-circle"}  |
| **OpenSearch**     |                                      |                                      |                                      |                                      |                                      |                                      |
| 2.x                |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |   :icon{name="twemoji:red-circle"}   |  :icon{name="twemoji:white-circle"}  |  :icon{name="twemoji:white-circle"}  |
| 1.x                |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |   :icon{name="twemoji:red-circle"}   |
| **ImageMagick**    |                                      |                                      |                                      |                                      |                                      |                                      |
| 7.x                |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |
| 6.9.7-7+           |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |  :icon{name="twemoji:green-circle"}  |

::alert{type="warning"}
Dependencies listed for dev, beta and rc tagged versions are based on tracking the development process in GitHub and the project Discord, and are subject to change at any time.
::

| Key | |
|---|---|
| :icon{name="twemoji:green-circle"}     | Supported in this version of Mastodon |
| :icon{name="twemoji:yellow-circle"}    | Supported in this version, but either deprecated or at end of life |
| :icon{name="twemoji:red-circle"}       | Explicitly not supported in this version |
| :icon{name="twemoji:white-circle"}     | Not available at time of release, not tested or supported |

## Version Chart

![Mastodon Branches](/mastodon-branches.png)

### Mastodon End of Life Dates

| **Mastodon**  | **End of Life**  |                                     |
|---------------|------------------|:-----------------------------------:|
| 4.3.x         | Not Yet Released | :icon{name="twemoji:white-circle"}  |
| 4.2.x         | To Be Determined | :icon{name="twemoji:green-circle"}  |
| 4.1.x         | To Be Determined | :icon{name="twemoji:green-circle"}  |
| 4.0.x         | After 2023-10-31 | :icon{name="twemoji:yellow-circle"} |
| 3.5.x         | After 2023-12-31 | :icon{name="twemoji:yellow-circle"} |
| 3.4.x & prior | End of Life Now  | :icon{name="twemoji:red-circle"}    |

## Additional Resources

- [Installing from Source](https://docs.joinmastodon.org/admin/install/) (docs.joinmastodon.org)
- [Mastodon Releases](https://github.com/mastodon/mastodon/releases) (github.com/mastodon/mastodon)

### Ruby Versions

Mastodon will have a file called `.ruby-version` in the source code that is the expected target version for that release.
For example, this file has `3.0.6` for the Mastodon 4.1.x branch.

It is best practice to run the specific target version in this file.
Administrators who require a different version will need to manually change the contents of `.ruby-version` to match.

It is not best practice to use the version of Ruby that is available in your OS platform repositories.
You should use a tool like [rbenv](https://github.com/rbenv/rbenv) or [rvm](https://rvm.io) to install and manage the target Ruby version.
The Mastodon instructions for installing from source use rbenv.

### Node Versions

It is not best practice to use the version of Ruby that is available in your OS platform default repositories.
[NodeSource](https://github.com/nodesource/distributions) is a great option that support Debian, Ubuntu, and Redhat derivatives.
This allows you to select a target major version and keep up to date with the latest patches in that version.

### Full Text Search

Administrators can use either Elasticsearch or OpenSearch as targets for full text search indexing.

- [Installing Elasticsearch](https://www.elastic.co/guide/en/elasticsearch/reference/7.17/install-elasticsearch.html)
- [Installing OpenSearch](https://opensearch.org/docs/latest/install-and-configure/install-opensearch/index/)
- [Configuring Full Text Search](https://docs.joinmastodon.org/admin/elasticsearch/)

### ImageMagick Versions

All Mastodon installs should be using at least ImageMagick 6.9.7-7 to mitigate CVE-2023-36460, see [this guide](https://github.com/mastodon/mastodon/issues/25776) for more details.

### Product Lifecycles

For the purposes of this document, when applied to dependencies the term "End of Life" is standardized to mean when there are no further updates of any kind, and/or no support available for a released version of Mastodon or it's dependencies.

- [Ruby](https://www.ruby-lang.org/en/downloads/branches/)
- [Node.js](https://github.com/nodejs/release#release-schedule)
- [Postgres](https://www.postgresql.org/support/versioning/)
- [Redis](https://redis.io/docs/about/releases/)
- [Elasticsearch](https://www.elastic.co/support/eol)
- [OpenSearch](https://opensearch.org/releases.html#maintenance-policy)

::alert{type="warning"}
This document accepts updates or corrections via [GitHub](https://github.com/vmstan/mastoreqs). For questions or comments please reach out to [@vmstan@vmst.io](https://vmst.io/@vmstan).
::
